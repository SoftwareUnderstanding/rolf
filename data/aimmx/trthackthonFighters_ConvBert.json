{
    "visibility": {
        "visibility": "public",
        "license": "Other"
    },
    "name": "TensorTRT",
    "definition": {
        "code": [
            {
                "type": "repo",
                "repo_type": "github",
                "owner": "trthackthonFighters",
                "owner_type": "Organization",
                "name": "ConvBert",
                "url": "https://github.com/trthackthonFighters/ConvBert",
                "stars": 0,
                "pushed_at": "2021-05-07 14:03:37+00:00",
                "created_at": "2021-04-19 10:54:04+00:00",
                "language": "Python",
                "license": "Other",
                "frameworks": [
                    "TensorFlow"
                ]
            },
            {
                "type": "code",
                "name": "LICENSE",
                "sha": "f058c580c2e8e70cf2c361a4697ba3e7e12d3c8f",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/LICENSE"
                    }
                },
                "size": 1714
            },
            {
                "type": "code",
                "name": "build_data.sh",
                "sha": "e90b7643873df0ee4fe0110ae15599e34796063c",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/build_data.sh"
                    }
                },
                "size": 330
            },
            {
                "type": "code",
                "name": "build_openwebtext_pretraining_dataset.py",
                "sha": "5079c7e4d73754a33f689cc0b7cf0913a5da6d20",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/build_openwebtext_pretraining_dataset.py"
                    }
                },
                "size": 3270
            },
            {
                "type": "code",
                "name": "build_pretraining_dataset.py",
                "sha": "8c88572bbfe4f1b6de8112dd25e625f0179b44cb",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/build_pretraining_dataset.py"
                    }
                },
                "size": 8232
            },
            {
                "type": "code",
                "name": "configure_finetuning.py",
                "sha": "7cc391202cb523d2afc688a1852684a56ab6390e",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/configure_finetuning.py"
                    }
                },
                "size": 7499
            },
            {
                "type": "code",
                "name": "configure_pretraining.py",
                "sha": "94adb56f60dbd0c705ec4a46652e93637791d150",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/configure_pretraining.py"
                    }
                },
                "size": 4832
            },
            {
                "type": "code",
                "name": "convert2onnx_v2.py",
                "sha": "db71a9bb3ae9658dce52100312aeeabcd85698fc",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/convert2onnx_v2.py"
                    }
                },
                "size": 5119
            },
            {
                "type": "code",
                "name": "download_glue_data.py",
                "sha": "24b0ce79e27a5572672e6abda34f7f73e01211bd",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/download_glue_data.py"
                    }
                },
                "size": 7138
            },
            {
                "type": "code",
                "name": "finetune.sh",
                "sha": "d503156cbd5914ab015637c0de2bdbaf7931da62",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/finetune.sh"
                    }
                },
                "size": 244
            },
            {
                "type": "code",
                "name": "finetune",
                "sha": "b3eda18725230621da2ae6c472f5f7a804d05503",
                "filetype": "dir",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/tree/master/finetune"
                    }
                },
                "num_files": 9
            },
            {
                "type": "code",
                "name": "model",
                "sha": "a06d4ef6bb105c63016d90899f4335772e225084",
                "filetype": "dir",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/tree/master/model"
                    }
                },
                "num_files": 4
            },
            {
                "type": "code",
                "name": "modify_onnx_gs.py",
                "sha": "36e4960decd057ab82dc0554402ecce21af98fc4",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/modify_onnx_gs.py"
                    }
                },
                "size": 668
            },
            {
                "type": "code",
                "name": "pretrain.sh",
                "sha": "e85d25f65712ef03db39ccc5b13b65abd317b7b1",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/pretrain.sh"
                    }
                },
                "size": 376
            },
            {
                "type": "code",
                "name": "pretrain",
                "sha": "768eeccb32c13fcd7273d62e32cf1b71c7b1b3c3",
                "filetype": "dir",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/tree/master/pretrain"
                    }
                },
                "num_files": 3
            },
            {
                "type": "code",
                "name": "run_finetuning.py",
                "sha": "cb970616261dc455b5c2477b9f4b09a2f8bbf349",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/run_finetuning.py"
                    }
                },
                "size": 12317
            },
            {
                "type": "code",
                "name": "run_pretraining.py",
                "sha": "ae7509aec6e024b7fe2ceeb281f10fad3617c322",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/run_pretraining.py"
                    }
                },
                "size": 16319
            },
            {
                "type": "code",
                "name": "test_tf_trt_infer.py",
                "sha": "9f0190c267b383e5a339593d51beeed92967a1d7",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/test_tf_trt_infer.py"
                    }
                },
                "size": 9354
            },
            {
                "type": "code",
                "name": "util",
                "sha": "a3991812220b99de45a421c53997a0e235f22b55",
                "filetype": "dir",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/tree/master/util"
                    }
                },
                "num_files": 3
            },
            {
                "type": "code",
                "name": "vocab.txt",
                "sha": "a4a9ef2f8100f7f023d2cd2a8c654b1f40040807",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/vocab.txt"
                    }
                },
                "size": 266699
            }
        ]
    },
    "trained_model": {
        "binaries": [
            {
                "type": "binary",
                "name": "convBert.pb",
                "sha": "fc4c07714baef0d853fecb15d6be4fc8cdd9b315",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/convBert.pb"
                    }
                },
                "size": 75162802
            },
            {
                "type": "binary",
                "name": "convbert.pb",
                "sha": "fc4c07714baef0d853fecb15d6be4fc8cdd9b315",
                "filetype": "file",
                "connection": {
                    "name": "github_url",
                    "source": {
                        "url": "https://github.com/trthackthonFighters/ConvBert/blob/master/convbert.pb"
                    }
                },
                "size": 75162802
            }
        ]
    },
    "authors": [
        {
            "name": "\u848b\u5b50\u822a",
            "github_id": "zihangJiang"
        },
        {
            "name": "Jose Javier",
            "github_id": "JJGO"
        },
        {
            "name": "Mengbing Wang",
            "github_id": "mengbingrock"
        },
        {
            "name": "markxue-0107",
            "github_id": "markxue-0107"
        },
        {
            "name": "zhoudaquan",
            "github_id": "zhoudaquan"
        },
        {
            "name": "Philip May",
            "email": "eniak.info@gmail.com",
            "github_id": "PhilipMay"
        }
    ],
    "tags": [],
    "extraction": [
        {
            "type": "github",
            "url": "https://github.com/trthackthonFighters/ConvBert",
            "stars": 0,
            "issues": true,
            "readme": "# TensorTRT\n\n## Requirements\n* Python 3\n* tensorflow 1.15\n* numpy\n* scikit-learn\n\n### Export ONNX Model\n```python convert2onnx_v2.py```\n\n### Modify the Onehot Layer \n```python modify_onnx_gs.py```\n\n### Build the Onehot plugin from Nvidia Hackathon Repo\n```\ngit clone https://github.com/NVIDIA/trt-samples-for-hackathon-cn.git\ncd build\nmake\n```\nand copy Onehot_plugin.so to Convbert folder.\n\nThen generate the .trt file:\n```\ntrtexec --onnx=ConvBert_onehot.onnx --plugins=OnehotPlugin.so --saveEngine=ConvBert_onehot.trt --verbose\n```\n### Comparison between TF inference and TRT inference\n```python test_tf_trt_infer.py```\n\n### Result\n```\ntf_time= [INFO] TF  execution time 367.3338 ms\ntrt_time= TRT execution time 9.16735 ms\n```\nThe value is the average of inference time. The tf_time is over-estimated as it may contain the cpu time. It may need to do profiling to get an accurate value.\n\nThe speed-up ratio is 40.06.\n\n\n# References\nGet the Docker Engine with cuda and tensorflow environment:\n\n`sudo docker pull registry.cn-hangzhou.aliyuncs.com/hackathon-fighters/21.03-tf1-py3-trt:v1`\n\nHere are some great resources we benefit:\n\nCodebase: Our model codebase are based on [Convbert](https://github.com/yitu-opensource/ConvBert).\n\nConvBert: NeurIPS 2020 paper [ConvBERT: Improving BERT with Span-based Dynamic Convolution](https://arxiv.org/abs/2008.02496).\n\nDynamic convolution: [Implementation](https://github.com/pytorch/fairseq/blob/265791b727b664d4d7da3abd918a3f6fb70d7337/fairseq/modules/lightconv_layer/lightconv_layer.py#L75) from [Pay Less Attention with Lightweight and Dynamic Convolutions](https://openreview.net/pdf?id=SkVhlh09tX).\n",
            "readme_url": "https://github.com/trthackthonFighters/ConvBert",
            "frameworks": [
                "TensorFlow"
            ]
        }
    ],
    "references": [
        {
            "title": "ConvBERT: Improving BERT with Span-based Dynamic Convolution",
            "arxiv": "2008.02496",
            "year": 2020,
            "url": "http://arxiv.org/abs/2008.02496v3",
            "abstract": "Pre-trained language models like BERT and its variants have recently achieved\nimpressive performance in various natural language understanding tasks.\nHowever, BERT heavily relies on the global self-attention block and thus\nsuffers large memory footprint and computation cost. Although all its attention\nheads query on the whole input sequence for generating the attention map from a\nglobal perspective, we observe some heads only need to learn local\ndependencies, which means the existence of computation redundancy. We therefore\npropose a novel span-based dynamic convolution to replace these self-attention\nheads to directly model local dependencies. The novel convolution heads,\ntogether with the rest self-attention heads, form a new mixed attention block\nthat is more efficient at both global and local context learning. We equip BERT\nwith this mixed attention design and build a ConvBERT model. Experiments have\nshown that ConvBERT significantly outperforms BERT and its variants in various\ndownstream tasks, with lower training cost and fewer model parameters.\nRemarkably, ConvBERTbase model achieves 86.4 GLUE score, 0.7 higher than\nELECTRAbase, while using less than 1/4 training cost. Code and pre-trained\nmodels will be released.",
            "authors": [
                "Zihang Jiang",
                "Weihao Yu",
                "Daquan Zhou",
                "Yunpeng Chen",
                "Jiashi Feng",
                "Shuicheng Yan"
            ]
        }
    ],
    "domain": {
        "domain_type": "Natural Language Processing",
        "domain_prob": 0.99723419178212,
        "task": "Machine Translation",
        "task_prob": 0.5020300124658224
    },
    "training": {
        "datasets": [
            {
                "name": "GLUE"
            }
        ]
    }
}